<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Capture API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://capturehighered.com'>Capture LLC</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The Capture Prospect API is organized around REST. Our API has predictable, resource-oriented URLs, and uses HTTP response codes to indicate API errors. We use built-in HTTP features, like HTTP authentication and HTTP verbs, which are understood by off-the-shelf HTTP clients. We support cross-origin resource sharing, allowing you to interact securely with our API from a client-side web application (though you should never expose your secret API key in any public website&rsquo;s client-side code).</p>

<p>JSON is returned by all API responses, including errors, although our API libraries convert responses to appropriate language-specific objects.</p>

<h1 id="authentication">Authentication</h1>

<p>Authenticate your account when using the API by including your secret API key in the request. You will receive your API key from us. Your client application will then submit it to https://api.capturehighered.com/authenticate and receive back a JSON Web Token(JWT). Your JWT carries many privileges, so be sure to keep them secret! Do not share your secret API keys or JWT in publicly accessible areas such GitHub, client-side code, and so forth. For the most part only your API client will know your JWT, because the client will get it from the authentication page and use it when calling protected end points.</p>

<aside class="notice">
Details on JSON Web Tokens can be found here: https://jwt.io/
</aside>

<p>All API requests must be made over HTTPS. Calls made over plain HTTP will fail. API requests without authentication will also fail.</p>

<blockquote>
<p>To authorize, use this code:
&ldquo;`shell</p>

<h1 id="with-shell-you-can-just-pass-the-correct-header-with-each-request">With shell, you can just pass the correct header with each request</h1>

<p>curl &quot;https://[server_url]/v1/authenticate&rdquo;
    -H &ldquo;api_key: api_key.placeholder&rdquo;
&ldquo;`</p>

<p>Example call after receiving your JWT
&rdquo;`shell</p>

<h1 id="with-shell-you-can-just-pass-the-correct-header-with-each-request">With shell, you can just pass the correct header with each request</h1>

<p>curl &ldquo;https://[server_url]/v1/prospects&rdquo;
    -H &ldquo;Authorization: bearer jwt.placeholder&rdquo;
&ldquo;`</p>

<p>Make sure to replace <code class="prettyprint">api_key.placeholder</code> with your API key.</p>
</blockquote>

<p>Capture API expects for the JWT to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: bearer jwt.placeholder</code></p>

<aside class="notice">
You must replace <code>jwt.placeholder</code> with your personal API key. However, this will mainly be handled by the API client code.
</aside>

<h1 id="prospects">Prospects</h1>

<h2 id="get-all-prospects">Get All Prospects</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects"</span>
    -H <span class="s2">"Authorization: bearer jwt.placeholder"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>The auto-pagination feature is specific to Capture&rsquo;s libraries and cannot be used directly with curl.</p>

<p>This endpoint retrieves all prospects.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://api.capturehighered.com/v1/prospects</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_prospects</td>
<td>false</td>
<td>If set to true, the result will also include prospects.</td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include prospects that have already been enrolled.</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-prospect">Get a Specific Prospect</h2>

<p>Retrieves the details of an existing prospect. You need only supply the unique prospect identifier that was returned upon prospect creation.</p>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects/2"</span>
    -H <span class="s2">"Authorization: bearer jwt.placeholder"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prospect Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prospect@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific prospect.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.capturehighered.com/v1/prospects/[prospect_id]</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>prospect_id</td>
<td>The ID of the prospect to retrieve</td>
</tr>
</tbody></table>

<h2 id="create-a-new-prospect">Create a New Prospect</h2>

<p>Creates a new prospect object.</p>

<blockquote>
<p>In a single line, the curl command would be: a) If sending form data:</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects"</span>
    -X POST
    -H <span class="s2">"Content-Type: multipart/form-data;"</span>
    -H <span class="s2">"Authorization: Bearer jwt.placeholder"</span>
    -F <span class="s2">"key1=value1"</span> -F <span class="s2">"key2=value2"</span>
</code></pre>

<blockquote>
<p>b) If sending raw data as json:</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects"</span>
    -X POST
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{"key1":"value1", "key2":"value2"}'</span>
</code></pre>

<blockquote>
<p>The above command returns the new prospect with JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prospect Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prospect@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.capturehighered.com/v1/prospects/[prospect_id]?key1=value1&amp;key2=value2</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>prospect_id</td>
<td>The ID of the prospect to retrieve</td>
</tr>
<tr>
<td>key1</td>
<td>value1</td>
</tr>
<tr>
<td>key2</td>
<td>value2</td>
</tr>
</tbody></table>

<h2 id="update-a-specific-prospect">Update a Specific Prospect</h2>

<blockquote>
<p>In a single line, the curl command would be: a) If sending form data:</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects/[prospect_id]"</span>
    -X PUT
    -H <span class="s2">"Content-Type: multipart/form-data;"</span>
    -H <span class="s2">"Authorization: Bearer jwt.placeholder"</span>
    -F <span class="s2">"key1=value1"</span>
    -F <span class="s2">"key2=value2"</span>
</code></pre>

<blockquote>
<p>b) If sending raw data as json:</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects/[prospect_id]"</span>
    -X PUT
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{"key1":"value1", "key2":"value2"}'</span>
</code></pre>

<blockquote>
<p>The above command returns the updated prospect with JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="err">prospect_id</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prospect Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prospect@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.capturehighered.com/v1/prospects/[prospect_id]?key1=value1&amp;key2=value2</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>prospect_id</td>
<td>The ID of the prospect to retrieve</td>
</tr>
<tr>
<td>key1</td>
<td>value1</td>
</tr>
<tr>
<td>key2</td>
<td>value2</td>
</tr>
</tbody></table>

<h2 id="delete-a-specific-prospect">Delete a Specific Prospect</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.capturehighered.com/v1/prospects/2"</span>
    -X DELETE
    -H <span class="s2">"Authorization: bearer jwt.placeholder"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prospect Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prospect@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific prospect.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.capturehighered.com/v1/prospects/[prospect_id]</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>prospect_id</td>
<td>The ID of the prospect to retrieve</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Capture API uses conventional HTTP response codes to indicate the success or failure of an API request. In general, codes in the 2xx range indicate success, codes in the 4xx range indicate an error that failed given the information provided (e.g., a required parameter was omitted, a charge failed, etc.), and codes in the 5xx range indicate an error with Capture&rsquo;s servers (these are rare).</p>

<h2 id="handling-errors">Handling errors</h2>

<p>Our API libraries raise exceptions for many reasons, such as a failed charge, invalid parameters, authentication errors, and network unavailability. We recommend writing code that gracefully handles all possible API exceptions.</p>

<h3 id="the-capture-api-uses-the-following-error-codes">The Capture API uses the following error codes:</h3>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>402</td>
<td>Request Failed &ndash; The parameters were valid but the request failed.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The prospect requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified prospect could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a prospect with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The prospect requested has been removed from our servers</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; The request conflicts with another request (perhaps due to using the same idempotent key).</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many prospects! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
